{% extends "base.html" %}

{% block content %}
<section class="panel">
  <div class="panel-header">
    <div>
      <p class="eyebrow">Step 1</p>
      <h1>Gather your players</h1>
      <p class="description">Pick how many friends are joining (2â€“5) and add their names. Leave a field blank to use the default name.</p>
    </div>
    <div class="pill">Co-op friendly</div>
  </div>

  <form class="stack" action="{{ url_for('rate') }}" method="post">
    <label class="field">
      <span class="field-label">How many players?</span>
      <input
        class="input"
        type="number"
        min="2"
        max="5"
        name="player_count"
        value="{{ previous_count if previous_count is defined else '' }}"
        required
      />
    </label>

    <div class="grid">
      {% for idx in range(1, 6) %}
        <label class="field">
          <span class="field-label">Player {{ idx }} name</span>
          <input
            class="input"
            name="player_{{ idx }}_name"
            type="text"
            placeholder="Player {{ idx }}"
            value="{{ previous_names[idx-1] if previous_names is defined else '' }}"
          />
        </label>
      {% endfor %}
    </div>

    <button class="cta" type="submit">Assign poems and rate</button>
  </form>
</section>
{% endblock %}
